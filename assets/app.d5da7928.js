import{d as _,R as L,b as m,o as s,c as i,z as c,_ as h,q as B,h as d,v as u,t as v,A as C,F as g,m as P,n as k,x as b,a as N,L as x,B as M,f as R,j as $,G as E,u as V,a2 as f,J as y,a3 as T,a4 as F,a5 as S,a6 as j,a7 as O,a8 as H,a9 as X,aa as z,ab as G,ac as W,i as q,ad as J,ae as K,af as U}from"./chunks/framework.c3a12751.js";import{t as w}from"./chunks/theme.432f705b.js";const Y={key:0,class:"visitor",src:"https://visitor-badge.laobi.icu/badge?page_id=harrisonls.github.io",onerror:"this.style.display='none'"},Q=_({__name:"Visitor",setup(t){const e=L("DEV");return(n,o)=>m(e)?c("",!0):(s(),i("img",Y))}});const Z=h(Q,[["__scopeId","data-v-ebcd9c1e"]]),ee={class:"copyright"},te=["src"],ne=_({__name:"Copyright",setup(t){const e=L("DEV"),n=B(),o=d(()=>n.path.replace("/mm-notes","")),r=new Date().getFullYear();return(a,l)=>(s(),i("div",ee,[m(e)?c("",!0):(s(),i("img",{key:0,class:"visitor",src:`https://visitor-badge.laobi.icu/badge?page_id=maomao1996.notes.${o.value}`,title:"当前页面累计访问数",onerror:"this.style.display='none'"},null,8,te)),u("span",null,v(`Copyright © 2022-${m(r)} HarrisonLin`),1)]))}});const ae=h(ne,[["__scopeId","data-v-417ef67b"]]),oe=/[\u0000-\u001f]/g,se=/[\s~`!@#$%^&*()\-_+=[\]{}|\\;:"'“”‘’<>,.?/]+/g,re=/[\u0300-\u036F]/g,A=t=>t.normalize("NFKD").replace(re,"").replace(oe,"").replace(se,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/^(\d)/,"_$1").toLowerCase(),ie=["href"],ce={class:"box-header"},le=["innerHTML"],ue={key:1,class:"icon"},pe=["src","alt"],de=["id"],_e={key:1,class:"desc"},fe=_({__name:"MNavLink",props:{noIcon:{type:Boolean},icon:{},badge:{},title:{},desc:{},link:{}},setup(t){const e=t,n=d(()=>e.title?A(e.title):""),o=d(()=>typeof e.icon=="object"?e.icon.svg:""),r=d(()=>typeof e.badge=="string"?{text:e.badge,type:"info"}:e.badge);return(a,l)=>{const D=C("Badge");return a.link?(s(),i("a",{key:0,class:"m-nav-link",href:a.link,target:"_blank",rel:"noreferrer"},[u("article",{class:k(["box",{"has-badge":r.value}])},[u("div",ce,[a.noIcon?c("",!0):(s(),i(g,{key:0},[o.value?(s(),i("div",{key:0,class:"icon",innerHTML:o.value},null,8,le)):a.icon&&typeof a.icon=="string"?(s(),i("div",ue,[u("img",{src:m(P)(a.icon),alt:a.title,onerror:"this.parentElement.style.display='none'"},null,8,pe)])):c("",!0)],64)),a.title?(s(),i("h5",{key:1,id:n.value,class:k(["title",{"no-icon":a.noIcon}])},v(a.title),11,de)):c("",!0)]),r.value?(s(),b(D,{key:0,class:"badge",type:r.value.type,text:r.value.text},null,8,["type","text"])):c("",!0),a.desc?(s(),i("p",_e,v(a.desc),1)):c("",!0)],2)],8,ie)):c("",!0)}}});const me=h(fe,[["__scopeId","data-v-f6a1464b"]]),ve=["id"],he=["href"],ge={class:"m-nav-links"},ye=_({__name:"MNavLinks",props:{title:{},noIcon:{type:Boolean},items:{}},setup(t){const e=t,n=d(()=>A(e.title));return(o,r)=>(s(),i(g,null,[o.title?(s(),i("h2",{key:0,id:n.value,tabindex:"-1"},[N(v(o.title)+" ",1),u("a",{class:"header-anchor",href:`#${n.value}`,"aria-hidden":"true"},null,8,he)],8,ve)):c("",!0),u("div",ge,[(s(!0),i(g,null,x(o.items,a=>(s(),b(me,M({noIcon:o.noIcon,ref_for:!0},a),null,16,["noIcon"]))),256))])],64))}});const be=h(ye,[["__scopeId","data-v-3a009e39"]]);const ke={id:"xmind-container"},we={__name:"XmindViewer",props:{url:String},setup(t){const e=R(!0),n=t;return $(async()=>{const{XMindEmbedViewer:o}=await E(()=>import("./chunks/index.223215d0.js"),[]),r=new o({el:"#xmind-container",region:"cn"});r.setStyles({width:"100%",height:"100%"});const a=()=>{e.value=!1,r.removeEventListener("map-ready",a)};r.addEventListener("map-ready",a),fetch(n.url).then(l=>l.arrayBuffer()).then(l=>{r.load(l)}).catch(l=>{e.value=!1,console.log("加载出错"),r.removeEventListener("map-ready",a)})}),(o,r)=>{const a=C("Loading");return s(),i("div",ke,[e.value?(s(),b(a,{key:0})):c("",!0)])}}};typeof window<"u"&&(window.navigator&&navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then(function(t){for(let e of t)e.unregister()}),"caches"in window&&caches.keys().then(function(t){return Promise.all(t.map(function(e){return caches.delete(e)}))}));const Le={extends:w,Layout:()=>{var n;const t={},{frontmatter:e}=V();return(n=e.value)!=null&&n.layoutClass&&(t.class=e.value.layoutClass),f(w.Layout,t,{"nav-bar-title-after":()=>f(Z),"doc-after":()=>f(ae)})},enhanceApp({app:t}){t.component("MNavLinks",be),t.component("XmindViewer",we),t.provide("DEV",!1)}};function I(t){if(t.extends){const e=I(t.extends);return{...e,...t,async enhanceApp(n){e.enhanceApp&&await e.enhanceApp(n),t.enhanceApp&&await t.enhanceApp(n)}}}return t}const p=I(Le),Ce=_({name:"VitePressApp",setup(){const{site:t}=V();return $(()=>{q(()=>{document.documentElement.lang=t.value.lang,document.documentElement.dir=t.value.dir})}),J(),K(),U(),p.setup&&p.setup(),()=>f(p.Layout)}});async function $e(){const t=Ve(),e=Ee();e.provide(F,t);const n=S(t.route);return e.provide(j,n),e.component("Content",O),e.component("ClientOnly",H),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return n.frontmatter.value}},$params:{get(){return n.page.value.params}}}),p.enhanceApp&&await p.enhanceApp({app:e,router:t,siteData:X}),{app:e,router:t,data:n}}function Ee(){return z(Ce)}function Ve(){let t=y,e;return G(n=>{let o=W(n);return t&&(e=o),(t||e===o)&&(o=o.replace(/\.js$/,".lean.js")),y&&(t=!1),E(()=>import(o),[])},p.NotFound)}y&&$e().then(({app:t,router:e,data:n})=>{e.go().then(()=>{T(e.route,n.site),t.mount("#app")})});export{$e as createApp};
