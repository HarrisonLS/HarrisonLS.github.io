import{d as _,X as L,b as v,o,c as i,G as c,_ as f,A as P,l as d,C as u,t as h,H as C,F as g,y as B,n as k,D as b,a as M,R as N,I as R,h as T,q as $,M as E,u as V,a5 as m,Q as y,a6 as x,a7 as F,a8 as S,a9 as j,aa as H,ab as O,ac as X,ad as z,ae as G,af as W,k as q,ag as K,ah as Q,ai as U}from"./chunks/framework.c0fcdec1.js";import{t as w}from"./chunks/theme.9b4e6366.js";const Y={key:0,class:"visitor",src:"https://visitor-badge.laobi.icu/badge?page_id=harrisonls.github.io",onerror:"this.style.display='none'"},J=_({__name:"Visitor",setup(e){const t=L("DEV");return(n,s)=>v(t)?c("",!0):(o(),i("img",Y))}});const Z=f(J,[["__scopeId","data-v-ebcd9c1e"]]),ee={class:"copyright"},te=["src"],ne=_({__name:"Copyright",setup(e){const t=L("DEV"),n=P(),s=d(()=>n.path.replace("/mm-notes","")),r=new Date().getFullYear();return(a,l)=>(o(),i("div",ee,[v(t)?c("",!0):(o(),i("img",{key:0,class:"visitor",src:`https://visitor-badge.laobi.icu/badge?page_id=maomao1996.notes.${s.value}`,title:"当前页面累计访问数",onerror:"this.style.display='none'"},null,8,te)),u("span",null,h(`Copyright © ${v(r)}-present HarrisonLin`),1)]))}});const ae=f(ne,[["__scopeId","data-v-3cbeab7b"]]),se=/[\u0000-\u001f]/g,oe=/[\s~`!@#$%^&*()\-_+=[\]{}|\\;:"'“”‘’<>,.?/]+/g,re=/[\u0300-\u036F]/g,I=e=>e.normalize("NFKD").replace(re,"").replace(se,"").replace(oe,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/^(\d)/,"_$1").toLowerCase(),ie=["href"],ce={class:"box-header"},le=["innerHTML"],ue={key:1,class:"icon"},pe=["src","alt"],de=["id"],_e={key:1,class:"desc"},me=_({__name:"MNavLink",props:{noIcon:{type:Boolean},icon:{},badge:{},title:{},desc:{},link:{}},setup(e){const t=e,n=d(()=>t.title?I(t.title):""),s=d(()=>typeof t.icon=="object"?t.icon.svg:""),r=d(()=>typeof t.badge=="string"?{text:t.badge,type:"info"}:t.badge);return(a,l)=>{const D=C("Badge");return a.link?(o(),i("a",{key:0,class:"m-nav-link",href:a.link,target:"_blank",rel:"noreferrer"},[u("article",{class:k(["box",{"has-badge":r.value}])},[u("div",ce,[a.noIcon?c("",!0):(o(),i(g,{key:0},[s.value?(o(),i("div",{key:0,class:"icon",innerHTML:s.value},null,8,le)):a.icon&&typeof a.icon=="string"?(o(),i("div",ue,[u("img",{src:v(B)(a.icon),alt:a.title,onerror:"this.parentElement.style.display='none'"},null,8,pe)])):c("",!0)],64)),a.title?(o(),i("h5",{key:1,id:n.value,class:k(["title",{"no-icon":a.noIcon}])},h(a.title),11,de)):c("",!0)]),r.value?(o(),b(D,{key:0,class:"badge",type:r.value.type,text:r.value.text},null,8,["type","text"])):c("",!0),a.desc?(o(),i("p",_e,h(a.desc),1)):c("",!0)],2)],8,ie)):c("",!0)}}});const ve=f(me,[["__scopeId","data-v-f6a1464b"]]),he=["id"],fe=["href"],ge={class:"m-nav-links"},ye=_({__name:"MNavLinks",props:{title:{},noIcon:{type:Boolean},items:{}},setup(e){const t=e,n=d(()=>I(t.title));return(s,r)=>(o(),i(g,null,[s.title?(o(),i("h2",{key:0,id:n.value,tabindex:"-1"},[M(h(s.title)+" ",1),u("a",{class:"header-anchor",href:`#${n.value}`,"aria-hidden":"true"},null,8,fe)],8,he)):c("",!0),u("div",ge,[(o(!0),i(g,null,N(s.items,a=>(o(),b(ve,R({noIcon:s.noIcon},a),null,16,["noIcon"]))),256))])],64))}});const be=f(ye,[["__scopeId","data-v-3a009e39"]]);const ke={id:"xmind-container"},we={__name:"XmindViewer",props:{url:String},setup(e){const t=e,n=T(!0);return $(async()=>{const{XMindEmbedViewer:s}=await E(()=>import("./chunks/index.223215d0.js"),[]),r=new s({el:"#xmind-container",region:"cn"});r.setStyles({width:"100%",height:"100%"});const a=()=>{n.value=!1,r.removeEventListener("map-ready",a)};r.addEventListener("map-ready",a),fetch(t.url).then(l=>l.arrayBuffer()).then(l=>{r.load(l)}).catch(l=>{n.value=!1,console.log("加载出错"),r.removeEventListener("map-ready",a)})}),(s,r)=>{const a=C("Loading");return o(),i("div",ke,[n.value?(o(),b(a,{key:0})):c("",!0)])}}};typeof window<"u"&&(window.navigator&&navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then(function(e){for(let t of e)t.unregister()}),"caches"in window&&caches.keys().then(function(e){return Promise.all(e.map(function(t){return caches.delete(t)}))}));const Le={extends:w,Layout:()=>{var n;const e={},{frontmatter:t}=V();return(n=t.value)!=null&&n.layoutClass&&(e.class=t.value.layoutClass),m(w.Layout,e,{"nav-bar-title-after":()=>m(Z),"doc-after":()=>m(ae)})},enhanceApp({app:e}){e.component("MNavLinks",be),e.component("XmindViewer",we),e.provide("DEV",!1)}};function A(e){if(e.extends){const t=A(e.extends);return{...t,...e,async enhanceApp(n){t.enhanceApp&&await t.enhanceApp(n),e.enhanceApp&&await e.enhanceApp(n)}}}return e}const p=A(Le),Ce=_({name:"VitePressApp",setup(){const{site:e}=V();return $(()=>{q(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),K(),Q(),U(),p.setup&&p.setup(),()=>m(p.Layout)}});async function $e(){const e=Ve(),t=Ee();t.provide(F,e);const n=S(e.route);return t.provide(j,n),t.component("Content",H),t.component("ClientOnly",O),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return n.frontmatter.value}},$params:{get(){return n.page.value.params}}}),p.enhanceApp&&await p.enhanceApp({app:t,router:e,siteData:X}),{app:t,router:e,data:n}}function Ee(){return z(Ce)}function Ve(){let e=y,t;return G(n=>{let s=W(n);return e&&(t=s),(e||t===s)&&(s=s.replace(/\.js$/,".lean.js")),y&&(e=!1),E(()=>import(s),[])},p.NotFound)}y&&$e().then(({app:e,router:t,data:n})=>{t.go().then(()=>{x(t.route,n.site),e.mount("#app")})});export{$e as createApp};
